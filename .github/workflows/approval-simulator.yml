name: Simulador de Aprobaci√≥n de PR

on:
  pull_request:
    types: [opened, reopened, synchronize] # Se ejecuta al abrir, reabrir o hacer push a la PR

jobs:
  simulate_approval:
    runs-on: ubuntu-latest
    steps:
      - name: ¬°Hola! Iniciando simulaci√≥n de aprobaci√≥n...
        run: echo "Este es un simulador para probar las reglas de protecci√≥n de rama."

      - name: Decidir si la simulaci√≥n pasa o falla
        id: decide_status
        run: |
          # --- C√ìMO PROBAR ---
          # 1. Para que este check PASE: No hagas nada. Por defecto, terminar√° exitosamente.
          # 2. Para que este check FALLE: Descomenta la siguiente l√≠nea y haz un push.
          # exit 1 
          # -------------------

          echo "La simulaci√≥n de aprobaci√≥n ha terminado."
          echo "Si 'exit 1' no est√° descomentado, este paso PASAR√Å."
          echo "Si 'exit 1' est√° descomentado, este paso FALLAR√Å."

      - name: Mensaje de resultado de la simulaci√≥n
        if: success()
        run: "echo '::notice:: üéâ La simulaci√≥n de aprobaci√≥n ha pasado exitosamente. Esta PR puede ser fusionada (si no hay otros checks).'"

      - name: Mensaje de fallo de la simulaci√≥n
        if: failure()
        run: "echo ::error:: ‚ùå La simulaci√≥n de aprobaci√≥n ha fallado. Esta PR NO puede ser fusionada hasta que el check pase."